{"remainingRequest":"/home/gibran/Documents/projetInfo/PInfo3/web-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gibran/Documents/projetInfo/PInfo3/web-ui/src/views/AdsResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/gibran/Documents/projetInfo/PInfo3/web-ui/src/views/AdsResult.vue","mtime":1558975787543},{"path":"/home/gibran/Documents/projetInfo/PInfo3/web-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gibran/Documents/projetInfo/PInfo3/web-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/gibran/Documents/projetInfo/PInfo3/web-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gibran/Documents/projetInfo/PInfo3/web-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// @ is an alias to /src\nimport MiniAd from '@/components/MinimizedAd.vue'\nimport Searchbar from '@/components/Searchbar.vue'\nimport axios from 'axios';\n\n\nexport default {\n  name: 'results',\n  components: {\n    MiniAd,\n    Searchbar\n  },\n  props: {\n    id:{\n      type:String,\n      required:false,\n      default:\"-1\"\n    }\n  },\n  data() {\n    return {\n      ads : null,\n      query: null,\n      requiredEmpty: 3\n    }\n  },\n  methods: {\n    onClickSearch (value) {\n      this.query=value;\n      axios\n        .get(process.env.VUE_APP_BASE_API + ':8084/search?request=' + this.query)\n        .then(response => (this.ads = response));\n      this.$forceUpdate();\n    },\n    update () {\n      if (this.id >= 0)\n      {\n        // retrieve list of ads\n        axios\n          .get(process.env.VUE_APP_BASE_API + ':8081/classads/categories/' + this.id)\n          .then(response => (this.ads = response));\n      }\n      else {\n        // retrieve list of ads\n        axios\n          .get(process.env.VUE_APP_BASE_API + ':8081/classads/')\n          .then(response => (this.ads = response));\n      }\n    }\n  },\n\n  watch: {\n    id: function() {\n      this.update();\n    }\n  },\n\n  beforeRouteUpdate(to, from, next) {\n    this.update();\n    next()\n  },\n\n  mounted: function () {\n    this.update();\n  }\n}\n",{"version":3,"sources":["AdsResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"AdsResult.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"results\">\n\n    <div class=\"search-bar-wrapper\">\n      <Searchbar v-on:clicked=\"onClickSearch\"/>\n    </div>\n    <div class=\"results-pub-container\">\n\n      <div class=\"results-wrapper\">\n        <template v-if=\"ads !=null\">\n          <MiniAd class=\"mini-ad\" v-for=\"ad in ads.data\" :title=\"ad.title\" :prix=\"ad.price\" :id=\"ad.id\" :imgUrl=\"ad.images\" :description=\"ad.description\" v-bind:key=\"ad.title\"/>\n\n          <MiniAd class=\"mini-ad\" v-for=\"index in requiredEmpty\" :key=\"index\" title=\"\" :prix=0 :id=\"0\" :imgUrl=\"[]\" description=\"blank\"/>\n        </template>\n      </div>\n\n      <div class=\"pub-wrapper\">\n        <div class=\"pub\">\n          pub placeholder\n        </div>\n      </div>\n\n    </div>\n\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport MiniAd from '@/components/MinimizedAd.vue'\nimport Searchbar from '@/components/Searchbar.vue'\nimport axios from 'axios';\n\n\nexport default {\n  name: 'results',\n  components: {\n    MiniAd,\n    Searchbar\n  },\n  props: {\n    id:{\n      type:String,\n      required:false,\n      default:\"-1\"\n    }\n  },\n  data() {\n    return {\n      ads : null,\n      query: null,\n      requiredEmpty: 3\n    }\n  },\n  methods: {\n    onClickSearch (value) {\n      this.query=value;\n      axios\n        .get(process.env.VUE_APP_BASE_API + ':8084/search?request=' + this.query)\n        .then(response => (this.ads = response));\n      this.$forceUpdate();\n    },\n    update () {\n      if (this.id >= 0)\n      {\n        // retrieve list of ads\n        axios\n          .get(process.env.VUE_APP_BASE_API + ':8081/classads/categories/' + this.id)\n          .then(response => (this.ads = response));\n      }\n      else {\n        // retrieve list of ads\n        axios\n          .get(process.env.VUE_APP_BASE_API + ':8081/classads/')\n          .then(response => (this.ads = response));\n      }\n    }\n  },\n\n  watch: {\n    id: function() {\n      this.update();\n    }\n  },\n\n  beforeRouteUpdate(to, from, next) {\n    this.update();\n    next()\n  },\n\n  mounted: function () {\n    this.update();\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.results-pub-container {\n  display: flex;\n}\n\n@media screen and (max-width: 1070px) { // Screens smaller or equal to 1070px width\n  .pub-wrapper {\n    display: none;\n  }\n\n  .results-wrapper {\n    // flex-grow: 100;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: wrap;\n  }\n\n}\n\n@media screen and (min-width: 1071px) { // Screens bigger or equal to 1071px width\n  .results-wrapper {\n    flex-grow: 100;\n\n    display: flex;\n    flex-direction: row;\n    // justify-content: space-between;\n    flex-wrap: wrap;\n  }\n\n  .mini-ad {\n    margin-right: auto;\n  }\n}\n\n.pub-wrapper {\n  max-width: 200px;\n  min-width: 200px;\n  // flex-basis: 200px;\n  // flex-shrink: 200px;\n  height: 600px;\n  background: gray;\n  color: lightgray;\n\n  margin-bottom: 50px;\n}\n\n\n\n\n</style>\n"]}]}